// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.7/esri/copyright.txt for details.
//>>built
define("require exports ../../../layers/BaseElevationLayer ../../../layers/BaseTileLayer ../../../layers/ElevationLayer ../../../layers/TiledLayer ../../../layers/TileLayer ../../../layers/VectorTileLayer ../../../layers/WMTSLayer ../../../support/basemapDefinitions ./terrainUtilsPlanar ./terrainUtilsSpherical".split(" "),function(B,b,u,v,w,x,y,h,k,l,z,A){function m(a){return a&&"esri.views.3d.layers.TileLayerView3D"===a.declaredClass}function n(a){return a&&"esri.views.3d.layers.VectorTileLayerView3D"===
a.declaredClass}function p(a){return a&&"esri.views.3d.layers.WMTSLayerView3D"===a.declaredClass}function q(a){return a&&"esri.views.3d.layers.ElevationLayerView3D"===a.declaredClass}function r(){c={};for(var a in l)l[a].baseMapLayers.forEach(function(a){c[a.url]=19});c["//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"]=20}function f(a,b,c,d){return t["local"===d||"planar"===d?"planar":"spherical"].checkIfTileInfoSupportedForViewSR(a,b,c)}Object.defineProperty(b,"__esModule",
{value:!0});var t={planar:z,spherical:A};b.weakAssert=function(a,b){a||console.warn("Terrain: "+b)};b.autoUpdateSkirtsVisibility=function(a,b){t[a.manifold].autoUpdateSkirtsVisibility(a,b)};b.isTiledLayer=function(a){return a&&(a.isInstanceOf(x)||a.isInstanceOf(v)||a.isInstanceOf(u)||a.isInstanceOf(k))};b.isVectorTileLayer=function(a){return a&&a.isInstanceOf(h)};b.isTileLayerView=m;b.isVectorTileLayerView=n;b.isWMTSLayerView=p;b.isElevationLayerView=q;b.isTiledLayerView=function(a){return a&&(m(a)||
q(a)||n(a)||p(a))};b.useFetchTileForLayer=function(a){return a.fetchTile&&!(a.fetchTile===y.prototype.fetchTile||a.fetchTile===w.prototype.fetchTile)};var c=null;b.getKnownTiledServiceLevelCap=function(a){c||r();a=a&&a.replace(/https?:/,"");return a in c?c[a]:Infinity};b.prepareKnownTiledServiceLevelCaps=r;b.checkIfTileInfoSupportedForView=f;b.getTiledLayerInfo=function(a,b,c){var d,e;if(a.isInstanceOf(k)){if(a=a.activeLayer){var g=a.tileMatrixSet;if(g)d=g.tileInfo,e=g.fullExtent;else if(a=a.tileMatrixSets)if(a=
a.find(function(a){return null==f(a.tileInfo,a.fullExtent,b,c)}))return{tileInfo:a.tileInfo,fullExtent:a.fullExtent}}}else d=a.isInstanceOf(h)?a.compatibleTileInfo256:a.tileInfo,e=a.fullExtent;return d&&e&&null==f(d,e,b,c)?{tileInfo:d,fullExtent:e}:{tileInfo:null,fullExtent:null}}});